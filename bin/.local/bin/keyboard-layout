#!/bin/bash

if [[ -n $WAYLAND_DISPLAY ]]; then
    echo "Error: Wayland is not supported"
    exit 1
fi

# Set the keyboard layout
if [[ -n "$1" ]]; then
    if [[ "$1" == "--german" ]]; then
        setxkbmap -layout de
    # elif [[ "$1" == "--toggle" ]]; then
    #     if [[ $(setxkbmap -query | awk '/^layout/ {print $2}') == "de" ]]; then
    #         echo switching back to default;
    #     fi
    fi
else
    # Use "localectl list-x11-keymap-options | grep grp:" to determine available keymap-options
    setxkbmap -layout us,ru
    setxkbmap -option 'grp:win_space_toggle'
fi
